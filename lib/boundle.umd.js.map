{"version":3,"file":"boundle.umd.js","sources":["../node_modules/rollup-plugin-node-polyfills/polyfills/events.js","../src/value.ts","../src/proxy.ts","../src/state.ts","../src/children.ts","../src/vnode/baseNode.ts","../src/vnode/text.ts","../src/vnode/fragment.ts","../src/utils/index.ts","../src/application.ts","../src/vnode/element.ts","../src/vnode/component.ts","../src/vnode/arrayNode.ts","../src/component.ts","../index.ts"],"sourcesContent":["'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","import { EventEmitter } from \"events\"\r\nimport { DataProxy } from \"./proxy\"\r\nimport { runTask } from './application'\r\n\r\n\r\nexport class PropValue extends EventEmitter {\r\n  public value: any\r\n  private dep: Array<Watcher>\r\n  // 该值所属数据响应中心\r\n  dataProxy?: DataProxy<object>\r\n\r\n  constructor(value: any, dataProxy?: DataProxy<object>) {\r\n    super()\r\n    this.value = value\r\n    this.dep = []\r\n    this.dataProxy = dataProxy\r\n  }\r\n\r\n  setDep(watcher: Watcher) {\r\n    this.dep.push(watcher)\r\n  }\r\n\r\n  valueOf() {\r\n    return this.value\r\n  }\r\n\r\n  toString() {\r\n    return this.value\r\n  }\r\n\r\n  set(value: any) {\r\n    this.value = value\r\n  }\r\n\r\n  get(): any {\r\n    return this.value\r\n  }\r\n\r\n  notify() {\r\n    this.dep.forEach(watcher => {\r\n      watcher.update()\r\n    })\r\n    this.emit('change', this.value)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nexport class Watcher {\r\n  fn: () => void\r\n  running: boolean = false\r\n\r\n  constructor(fn: () => void) {\r\n    this.fn = fn\r\n  }\r\n\r\n  update() {\r\n    if (this.running) return\r\n    this.running = true\r\n    let fn = () => {\r\n      this.fn()\r\n      this.running = false\r\n    }\r\n    runTask(fn)\r\n  }\r\n}","import { getDepPool } from \"./application\";\r\nimport { PropValue } from \"./value\";\r\n\r\n/**\r\n * 数据响应式中心\r\n*/\r\n\r\n/**\r\n * 数据事件存放处\r\n*/\r\n\r\nexport class DataEventProxy {\r\n  private valueMap: WeakMap<{}, any>\r\n  constructor() {\r\n    this.valueMap = new WeakMap()\r\n  }\r\n\r\n  getProp(target: Record<any, any>, prop: any): PropValue {\r\n    if (!this.valueMap.get(target)) {\r\n      this.valueMap.set(target, {})\r\n    }\r\n\r\n    let valueTarget = this.valueMap.get(target)\r\n\r\n    if (!valueTarget[prop]) {\r\n\r\n      let propValue = new PropValue(Array.isArray(target[prop]) ? new Proxy(target[prop], {\r\n        set(target, prop, value, receiver) {\r\n          // 这里一定要先设置再通知\r\n          let res = Reflect.set(target, prop, value, receiver)\r\n          propValue.notify()\r\n          return res\r\n        }\r\n      }) : target[prop])\r\n      valueTarget[prop] = propValue\r\n    }\r\n    return valueTarget[prop]\r\n  }\r\n  // 获取用于绑定属性事件的代理对象\r\n  getEventProxy(target: Record<any, any>): Record<any, any> {\r\n    return this.valueMap.get(target)\r\n  }\r\n\r\n  // 设置用于绑定属性事件的代理对象\r\n  setEventProxy(target: Record<any, any>, valueTarget: Record<any, any>) {\r\n    this.valueMap.set(target, valueTarget)\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * 监控数据响应变化处\r\n*/\r\nexport class DataProxy<T extends object> {\r\n  private target: T\r\n  private data: T\r\n  private dataProxyValue: DataEventProxy\r\n\r\n  constructor(data: T) {\r\n    this.target = data\r\n    this.dataProxyValue = new DataEventProxy()\r\n    // 监控普通对象\r\n    const handler: ProxyHandler<any> = {\r\n      get: (target, prop, receiver) => {\r\n\r\n        if (typeof target[prop] === 'object' && target[prop] !== null && !Array.isArray(target[prop]) && target[prop].constructor === Object) {\r\n          return new Proxy(target[prop], handler)\r\n        } else if (typeof target[prop] === 'function') {\r\n          return Reflect.get(target, prop, receiver)\r\n        }\r\n        else {\r\n          let propValue = this.dataProxyValue.getProp(target, prop)\r\n          for (let depArr of getDepPool()) {\r\n            if (!depArr.includes(propValue)) {\r\n              depArr.push(propValue)\r\n            }\r\n          }\r\n          return propValue.value\r\n        }\r\n      },\r\n      set: (target, prop, value, receiver) => {\r\n        if (typeof value === 'object' && value !== null && !Array.isArray(value) && value.constructor === Object) {\r\n          // 当对象被替换为新对象时 通知对象里所有的响应式\r\n          let valueTarget = this.dataProxyValue.getEventProxy(target[prop])\r\n          let res = Reflect.set(target, prop, value, receiver)\r\n          this.replaceProps(value, valueTarget)\r\n          return res\r\n        } else {\r\n          let propValue = this.dataProxyValue.getProp(target, prop)\r\n\r\n          propValue.value = Array.isArray(value) ? new Proxy(value, {\r\n            set(target, prop, value, receiver) {\r\n              // 这里一定要先设置再通知\r\n              let res = Reflect.set(target, prop, value, receiver)\r\n              propValue.notify()\r\n              return res\r\n            }\r\n          }) : value\r\n\r\n\r\n          let res = Reflect.set(target, prop, value, receiver)\r\n          propValue.notify()\r\n          return res\r\n        }\r\n\r\n\r\n      }\r\n\r\n    }\r\n    this.data = new Proxy(data, handler)\r\n  }\r\n\r\n\r\n  public getData(): T {\r\n    return this.data\r\n  }\r\n\r\n  public getTarget(): T {\r\n    return this.target\r\n  }\r\n\r\n  public getEventProxy(): DataEventProxy {\r\n    return this.dataProxyValue\r\n  }\r\n\r\n  // 当对象属性被新对象替换时\r\n  private replaceProps(target: Record<any, any>, valueTarget: Record<any, any>) {\r\n    for (let prop in valueTarget) {\r\n      let propValue = valueTarget[prop]\r\n      propValue.value = target[prop]\r\n      propValue.notify()\r\n    }\r\n    this.dataProxyValue.setEventProxy(target, valueTarget)\r\n  }\r\n\r\n}\r\n\r\n","import { DataProxy } from \"./proxy\";\r\n\r\nexport interface StateConfig {\r\n  // 是否开启数组中对象的监控\r\n  deep?: boolean\r\n}\r\n\r\nexport class State<T extends object> {\r\n\r\n  private dataProxy: DataProxy<T>\r\n  private config?: StateConfig\r\n\r\n  constructor(data: T, config?: StateConfig) {\r\n    this.dataProxy = new DataProxy<T>(data)\r\n    this.config = config\r\n  }\r\n\r\n  get data(): T {\r\n    return this.dataProxy.getData()\r\n  }\r\n\r\n  // 用于监控数据变化\r\n  watch(path: string, fn: (value: any) => void): void {\r\n    let props = path.split('.')\r\n    if (!props.length) return;\r\n    let obj: Record<any, any> = this.dataProxy.getTarget()\r\n    let prop: string = props.shift() || ''\r\n    while (props.length) {\r\n      let p = props.shift()\r\n      if (p) {\r\n        obj = obj[prop]\r\n        prop = p\r\n      }\r\n    }\r\n\r\n    let events = this.dataProxy.getEventProxy()\r\n    let propValue = events.getProp(obj, prop)\r\n    propValue.on('change', fn)\r\n  }\r\n\r\n}","import { getDepProps } from \"./application\"\r\nimport { TextVNode, ElementVNode, ComponentVNode, FragmentVNode, SlotVNode, ArrayVNode } from \"./vnode\"\r\n\r\n\r\n\r\n// 这里指的是能渲染元素的parentNode\r\nexport type ParentVNode = ElementVNode\r\n// 标准化后的子元素节点\r\nexport type ChildVNode = TextVNode | ElementVNode | ComponentVNode | FragmentVNode | ArrayVNode\r\n// 我们能获取的基本子元素节点\r\nexport type BaseChildVNode = string | ElementVNode | ComponentVNode | FragmentVNode | ArrayVNode | Array<string | ElementVNode | ComponentVNode | FragmentVNode>\r\nexport type RBaseChildVNode = BaseChildVNode | (() => BaseChildVNode)\r\n\r\n\r\nexport function setNodeChildren(parentNode: ParentVNode, children: Array<RBaseChildVNode>) {\r\n  let standardNodeList: Array<ChildVNode> = []\r\n  for (let i = 0; i < children.length; i++) {\r\n    let child = children[i]\r\n    // 如果是函数要先看函数的返回值 不然直接添加\r\n    if (typeof child !== 'function') {\r\n      let snode = standardNode(child, parentNode)\r\n      snode.createRNode() // 创建真实节点\r\n      standardNodeList.push(standardNode(child, parentNode))\r\n      snode.mount() // 将真实节点挂载到父节点\r\n      continue\r\n    }\r\n\r\n    let [propValues, result] = getDepProps(child)\r\n    let snode = standardNode(result, parentNode)\r\n    snode.createRNode() // 创建真实节点\r\n    snode.setDeps(propValues, child)\r\n    snode.bindDeps()\r\n    snode.mount() // 将真实节点挂载到父节点\r\n    standardNodeList.push(snode)\r\n\r\n  }\r\n  // parentNode.setChildrenNodes(standardNodeList)\r\n  // parentNode.mount()\r\n}\r\n\r\n\r\n// 首先标准化节点\r\nexport function standardNode(baseNode: BaseChildVNode, parentNode?: ParentVNode): ChildVNode {\r\n  if (typeof baseNode === \"string\") {\r\n    let textNode = new TextVNode(baseNode)\r\n    textNode.setParentVNode(parentNode)\r\n    return textNode\r\n  } else if (baseNode instanceof ElementVNode) {  // 如果是元素节点\r\n    baseNode.setParentVNode(parentNode)\r\n  } else if (baseNode instanceof ComponentVNode) {\r\n    baseNode.setParentVNode(parentNode)\r\n  } else if (baseNode instanceof FragmentVNode) {\r\n    baseNode.setParentVNode(parentNode)\r\n  } else if (baseNode instanceof ArrayVNode) {\r\n    baseNode.setParentVNode(parentNode)\r\n  } else {\r\n    // 特殊处理 为null则不渲染返回空节点\r\n    if (baseNode === null) baseNode = ''\r\n    let textNode = new TextVNode(String(baseNode))\r\n    textNode.setParentVNode(parentNode)\r\n    return textNode\r\n  }\r\n  return baseNode\r\n}\r\n\r\nexport function replaceNode(newNode: ChildVNode, oldNode: ChildVNode) {\r\n  oldNode.replaceWith(newNode)\r\n}\r\n","import { ChildVNode } from \"../children\"\r\nimport { PropValue } from \"../value\"\r\nimport { ElementVNode } from \"./element\"\r\nimport { FragmentVNode } from \"./fragment\"\r\n\r\nexport abstract class VNode {\r\n  // 父虚拟结点\r\n  parentVNode?: ElementVNode | FragmentVNode\r\n  // 子节点类型\r\n  abstract type: number\r\n\r\n  static ELEMENT: number = 0\r\n  static TEXT: number = 1\r\n  static COMPONENT: number = 2\r\n  static FRAGMENT: number = 3\r\n\r\n  // 用于获取挂载到虚拟节点的真实节点\r\n  abstract getRNode(): HTMLElement | Text\r\n\r\n  // 设置节点的父节点\r\n  setParentVNode(parent?: ElementVNode) {\r\n    this.parentVNode = parent\r\n  }\r\n\r\n  abstract propValues?: Array<PropValue>\r\n  abstract fn?: Function\r\n  abstract createRNode(): void\r\n  abstract setDeps(propValues: Array<PropValue>, fn: Function): void\r\n  abstract bindDeps(): void\r\n  abstract mount(): void\r\n  abstract replaceWith(node: ChildVNode): void\r\n}","import { replaceNode, standardNode, ChildVNode } from \"../children\"\r\nimport { PropValue, Watcher } from \"../value\"\r\nimport { VNode } from \"./baseNode\"\r\n\r\nexport class TextVNode extends VNode {\r\n  propValues?: PropValue[]\r\n  fn?: Function\r\n\r\n  type: number = VNode.TEXT\r\n  text: string\r\n  textNode?: HTMLElement\r\n\r\n  constructor(text: string) {\r\n    super()\r\n    this.text = text\r\n  }\r\n\r\n  createTextNode() {\r\n    this.textNode = document.createTextNode(this.text) as unknown as HTMLElement\r\n    return this.textNode\r\n  }\r\n\r\n  getRNode(): HTMLElement {\r\n    return this.textNode!\r\n  }\r\n\r\n  // 创建并初始化真实节点\r\n  createRNode(): void {\r\n    this.textNode = document.createTextNode(this.text) as unknown as HTMLElement\r\n  }\r\n\r\n  setDeps(propValues: Array<PropValue>, fn: Function): void {\r\n    this.propValues = propValues\r\n    this.fn = fn\r\n  }\r\n\r\n  // 绑定节点的依赖\r\n  bindDeps(): void {\r\n    if (this.propValues && this.fn) {\r\n      let fn = () => replaceNode(standardNode(this.fn!()), this)\r\n      let watcher = new Watcher(fn)\r\n      this.propValues.forEach(propValue => propValue.setDep(watcher))\r\n    }\r\n  }\r\n\r\n  mount() {\r\n    this.parentVNode?.getRNode().appendChild(this.getRNode())\r\n  }\r\n\r\n  replaceWith(node: ChildVNode) {\r\n    this.parentVNode?.getRNode().replaceChild(node.getRNode(), this.getRNode())\r\n  }\r\n}","import { getDepProps } from \"../application\";\r\nimport { replaceNode, standardNode } from \"../children\";\r\nimport { PropValue, Watcher } from \"../value\";\r\nimport { VNode } from \"./baseNode\";\r\n// import { setElementChild, initVNodeWithList, initVNode, addFragmentEle, removeFragmentEle, replaceElementChild } from \"./element\";\r\nimport { TextVNode } from \"./text\";\r\nimport { ChildVNode, RBaseChildVNode } from \"../children\";\r\n\r\n\r\nexport class FragmentVNode extends VNode {\r\n  propValues?: PropValue[];\r\n  fn?: Function;\r\n\r\n\r\n  type: number = VNode.FRAGMENT;\r\n  props?: {\r\n    [key: string]: any\r\n  }\r\n  children?: Array<RBaseChildVNode>\r\n  fragment?: HTMLElement\r\n  VNodeChildren: Array<ChildVNode | ChildVNode[]>\r\n  pivot: TextVNode // 锚点\r\n\r\n  constructor(props?: Record<any, any>, children?: any[]) {\r\n    super()\r\n    this.props = props\r\n    this.children = children\r\n    this.VNodeChildren = []\r\n    this.pivot = new TextVNode('')\r\n    this.pivot.createTextNode()\r\n  }\r\n\r\n  getPivot(): TextVNode {\r\n    return this.pivot\r\n  }\r\n\r\n  setPivot(pivot: TextVNode) {\r\n    this.pivot = pivot\r\n  }\r\n\r\n  getRNode(): HTMLElement {\r\n    return this.fragment!\r\n  }\r\n\r\n  getParentMountedEle(): HTMLElement {\r\n    if (this.parentVNode! instanceof FragmentVNode) {\r\n      return this.parentVNode!.getParentMountedEle()\r\n    } else {\r\n      return this.parentVNode!.getRNode()\r\n    }\r\n  }\r\n\r\n  createFragment(): HTMLElement {\r\n    if (this.fragment) return this.fragment  // 如果已经初始化过则不要再初始化\r\n    this.fragment = document.createDocumentFragment() as unknown as HTMLElement\r\n    // 处理标签子节点\r\n    this.setChildren()\r\n    return this.fragment\r\n  }\r\n\r\n  /**\r\n   * 处理子节点\r\n  */\r\n\r\n  setChildren() {\r\n    if (!this.fragment || this.children === undefined || this.children === null) return\r\n    if (!Array.isArray(this.children)) this.children = [this.children]\r\n\r\n    // for (let i = 0; i < this.children.length; i++) {\r\n    //   let child = this.children[i]\r\n    //   // 如果是函数要先看函数的返回值 不然直接添加\r\n    //   if (typeof child !== 'function') {\r\n    //     setElementChild(this.fragment, this.VNodeChildren[i] = initVNodeWithList(child, this))\r\n    //     continue\r\n    //   }\r\n\r\n    //   let [depProps, result] = getDepProps(child)\r\n\r\n    //   if (Array.isArray(result)) {\r\n    //     let pivot = initVNode('');\r\n    //     setElementChild(this.fragment, pivot)\r\n    //     this.VNodeChildren[i] = initVNodeWithList(result, this) as ChildVNode[]\r\n    //     addFragmentEle(this.fragment, this.VNodeChildren[i] as ChildVNode[], pivot as TextVNode)\r\n    //     let fn = () => {\r\n    //       removeFragmentEle(this.VNodeChildren[i] as ChildVNode[])\r\n    //       let newVnodeList = (child as Function)()\r\n    //       if (Array.isArray(newVnodeList)) {\r\n    //         this.VNodeChildren[i] = initVNodeWithList(newVnodeList, this) as ChildVNode[]\r\n    //         addFragmentEle(this.getParentMountedEle(), this.VNodeChildren[i] as ChildVNode[], pivot as TextVNode)\r\n    //       }\r\n    //     }\r\n    //     depProps.forEach(propValue => propValue.setDep(new Watcher(fn)))\r\n    //   } else {\r\n    //     this.VNodeChildren[i] = initVNode(result, this)\r\n    //     setElementChild(this.fragment, this.VNodeChildren[i])\r\n    //     let fn = () => {\r\n    //       let newNode = (child as () => BaseChildVNode)()\r\n    //       this.VNodeChildren[i] = replaceElementChild(this.getParentMountedEle(), initVNode(newNode, this), this.VNodeChildren[i] as ChildVNode)\r\n    //     }\r\n    //     depProps.forEach(propValue => propValue.setDep(new Watcher(fn)))\r\n    //   }\r\n    // }\r\n  }\r\n\r\n\r\n  // 创建并初始化真实节点\r\n  createRNode(): void {\r\n    if (this.fragment) return // 如果已经初始化过则不要再初始化\r\n    this.fragment = document.createDocumentFragment() as unknown as HTMLElement\r\n    // 处理标签子节点\r\n    this.setChildren()\r\n  }\r\n\r\n  setDeps(propValues: Array<PropValue>, fn: Function): void {\r\n    this.propValues = propValues\r\n    this.fn = fn\r\n  }\r\n\r\n  // 绑定节点的依赖\r\n  bindDeps(): void {\r\n    if (this.propValues && this.fn) {\r\n      let fn = () => replaceNode(standardNode(this.fn!()), this)\r\n      let watcher = new Watcher(fn)\r\n      this.propValues.forEach(propValue => propValue.setDep(watcher))\r\n    }\r\n  }\r\n\r\n  mount() {\r\n    this.parentVNode?.getRNode().appendChild(this.getRNode())\r\n    this.parentVNode?.getRNode().appendChild(this.pivot.getRNode())\r\n  }\r\n\r\n  replaceWith(node: ChildVNode) {\r\n\r\n  }\r\n\r\n\r\n}","import { Vact } from '../application'\r\nimport { Component } from '../component'\r\nimport { State, StateConfig } from '../state'\r\nimport { ComponentVNode, ElementVNode } from '../vnode'\r\nimport { FragmentVNode } from '../vnode/fragment'\r\nimport { SubComponent } from '../vnode/type'\r\n\r\n// 获取一个响应式的对象\r\nexport function defineState(data: Record<string | number | symbol, any>, config?: StateConfig) {\r\n  return new State(data, config)\r\n}\r\n\r\nexport function mount(selector: string, rootNode: Component | ComponentVNode) {\r\n  let ele = document.querySelector(selector)\r\n  let rootEle: HTMLElement | undefined\r\n  if (rootNode instanceof Component) {\r\n    let ef = rootNode.createEFVNode()\r\n    if (ef instanceof ElementVNode) {\r\n      rootEle = ef.createEle()\r\n    } else {\r\n      throw new Error('用于挂载渲染的根组件必须使用原始标签')\r\n    }\r\n  } else if (rootNode instanceof ComponentVNode) {\r\n    rootNode.createRNode()\r\n    rootEle = rootNode.getRNode()\r\n  }\r\n  if (ele && rootEle) {\r\n    if (ele.parentNode) {\r\n      ele.parentNode.replaceChild(rootEle, ele)\r\n    }\r\n  }\r\n}\r\n\r\nexport type SubConstructor = new () => SubComponent\r\nexport function createNode(nodeTag: string | SubConstructor | symbol, props?: Record<any, any>, children?: any[]): ElementVNode | ComponentVNode | FragmentVNode {\r\n  if (typeof nodeTag === 'string') {\r\n    return new ElementVNode(nodeTag, props, children)\r\n  } else if (typeof nodeTag === 'function') {\r\n    return new ComponentVNode(nodeTag, props, children)\r\n  } if (typeof nodeTag === 'symbol' && nodeTag === Vact.Fragment) {\r\n    return new FragmentVNode(props, children)\r\n  } else {\r\n    throw new Error('只能传入字符串或者构造函数')\r\n  }\r\n}","import { createNode, mount } from './utils';\r\nimport { PropValue } from './value';\r\n\r\nexport class Vact {\r\n  public static Fragment = Symbol('fragment标识')\r\n  private static depPool: any[] = []\r\n  static getDepPool(): any[] {\r\n    return this.depPool\r\n  }\r\n\r\n  private static updating: boolean = false\r\n  private static watcherTask: Function[] = []\r\n  static runTask(fn: Function) {\r\n    this.watcherTask.push(fn)\r\n    if (!this.updating) {\r\n      this.updating = true\r\n      Promise.resolve()\r\n        .then(() => {\r\n          let callbcak: Function | undefined\r\n          while (callbcak = this.watcherTask.shift()) {\r\n            callbcak()\r\n          }\r\n        })\r\n        .then(() => this.updating = false)\r\n    }\r\n  }\r\n\r\n  static Component: any;\r\n  static mount = mount\r\n  static createNode = createNode\r\n}\r\n\r\nexport function getDepPool(): any[] {\r\n  return Vact.getDepPool()\r\n}\r\n\r\nexport function getDepProps<T>(fn: () => T): [PropValue[], T] {\r\n  let depProps: PropValue[] = []\r\n  let pool = Vact.getDepPool()\r\n  pool.push(depProps)\r\n  let res = fn()\r\n  pool.splice(pool.indexOf(depProps), 1)\r\n  return [depProps, res]\r\n}\r\n\r\nexport function runTask(fn: Function) {\r\n  Vact.runTask(fn)\r\n}\r\n","import { getDepProps } from \"../application\"\r\nimport { ChildVNode, RBaseChildVNode, replaceNode, setNodeChildren, standardNode } from \"../children\"\r\nimport { PropValue, Watcher } from \"../value\"\r\nimport { VNode } from \"./baseNode\"\r\nimport { ComponentVNode } from \"./component\"\r\nimport { FragmentVNode } from \"./fragment\"\r\nimport { TextVNode } from \"./text\"\r\n// import { BaseChildVNode, RBaseChildVNode, ChildVNode } from \"./type\"\r\n\r\nexport class ElementVNode extends VNode {\r\n  propValues?: PropValue[]\r\n  fn?: Function\r\n\r\n  tag: string\r\n  props?: {\r\n    [key: string]: any\r\n  }\r\n  children?: Array<RBaseChildVNode>\r\n  type: number = VNode.ELEMENT\r\n  ele?: HTMLElement\r\n\r\n  constructor(tag: string, props?: Record<any, any>, children?: any[]) {\r\n    super()\r\n    this.tag = tag;\r\n    this.props = props;\r\n    this.children = children;\r\n  }\r\n\r\n  getRNode(): HTMLElement {\r\n    return this.ele!\r\n  }\r\n\r\n  createEle() {\r\n    if (this.ele) return // 如果已经初始化过则不要再初始化\r\n    this.ele = document.createElement(this.tag)\r\n    // 处理标签属性\r\n    this.setProps()\r\n    // 处理标签子节点\r\n    this.setChildren()\r\n    return this.ele\r\n  }\r\n\r\n  /**\r\n   * 处理原生node节点的属性绑定\r\n  */\r\n\r\n  setProps() {\r\n    if (!this.props || !this.ele) return\r\n\r\n    // 处理标签属性\r\n    for (let prop in this.props) {\r\n      // 如果是函数要先看函数的返回值 不然直接设置属性\r\n      if (typeof this.props[prop] !== 'function') {\r\n        setElementProp(this.ele, prop, this.props[prop])\r\n        continue;\r\n      }\r\n\r\n      let [depProps, result] = getDepProps<any>(this.props[prop])\r\n      setElementProp(this.ele, prop, result)\r\n\r\n      // 如果是函数则直接跳过\r\n      if (typeof result === 'function') continue\r\n      let fn = () => setElementProp(this.ele!, prop, this.props![prop]())\r\n      depProps.forEach(propValue => propValue.setDep(new Watcher(fn)))\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * 处理子节点\r\n  */\r\n\r\n  setChildren() {\r\n    /* if (!this.ele || this.children === undefined || this.children === null) return\r\n    if (!Array.isArray(this.children)) this.children = [this.children]\r\n\r\n    for (let child of this.children) {\r\n      // 如果是函数要先看函数的返回值 不然直接添加\r\n      if (typeof child !== 'function') {\r\n        setElementChild(this.ele, initVNodeWithList(child, this))\r\n        continue\r\n      }\r\n\r\n      let [depProps, result] = getDepProps(child)\r\n\r\n      if (Array.isArray(result)) {\r\n        let pivot = initVNode('');\r\n        setElementChild(this.ele, pivot)\r\n        let curNodeList = initVNodeWithList(result, this) as ChildVNode[]\r\n        addFragmentEle(this.ele, curNodeList, pivot as TextVNode)\r\n        let fn = () => {\r\n          removeFragmentEle(curNodeList)\r\n          let newVnodeList = (child as Function)()\r\n          if (Array.isArray(newVnodeList)) {\r\n            curNodeList = initVNodeWithList(newVnodeList, this) as ChildVNode[]\r\n            addFragmentEle(this.ele!, curNodeList, pivot as TextVNode)\r\n          }\r\n        }\r\n        depProps.forEach(propValue => propValue.setDep(new Watcher(fn)))\r\n      } else {\r\n        let curNode = initVNode(result, this)\r\n        setElementChild(this.ele, curNode)\r\n        let fn = () => {\r\n          let newNode = (child as () => BaseChildVNode)()\r\n          curNode = replaceElementChild(this.ele!, initVNode(newNode, this), curNode)\r\n        }\r\n        depProps.forEach(propValue => propValue.setDep(new Watcher(fn)))\r\n      }\r\n    } */\r\n  }\r\n\r\n  // 创建并初始化真实节点\r\n  createRNode(): void {\r\n    if (this.ele) return // 如果已经初始化过则不要再初始化\r\n    this.ele = document.createElement(this.tag)\r\n    if (this.children === undefined || this.children === null) return\r\n    if (!Array.isArray(this.children)) this.children = [this.children]\r\n    // 处理标签属性\r\n    this.setProps()\r\n    // 处理标签子节点\r\n    setNodeChildren(this, this.children)\r\n  }\r\n\r\n  setDeps(propValues: Array<PropValue>, fn: Function): void {\r\n    this.propValues = propValues\r\n    this.fn = fn\r\n  }\r\n\r\n  // 绑定节点的依赖\r\n  bindDeps(): void {\r\n    if (this.propValues && this.fn) {\r\n      let fn = () => replaceNode(standardNode(this.fn!()), this)\r\n      let watcher = new Watcher(fn)\r\n      this.propValues.forEach(propValue => propValue.setDep(watcher))\r\n    }\r\n  }\r\n\r\n  mount() {\r\n    this.parentVNode?.getRNode().appendChild(this.getRNode())\r\n  }\r\n\r\n  replaceWith(node: ChildVNode) {\r\n    node.createRNode()\r\n    this.parentVNode?.getRNode().replaceChild(node.getRNode(), this.getRNode())\r\n  }\r\n\r\n}\r\n\r\n\r\n/**\r\n * 处理原生标签的属性绑定 \r\n*/\r\n\r\nexport function setElementProp(ele: HTMLElement, prop: string, value: string | Record<string, string> | Function) {\r\n  if (typeof value === 'string') {\r\n    if (prop === 'className') { // className比较特殊\r\n      ele.className = value\r\n    } else {\r\n      ele.setAttribute(prop, value)\r\n    }\r\n  } else if (prop === 'style' && typeof value === 'object' && value !== null) { // 对于style标签为对象的值的特殊处理\r\n    let styleStringList = []\r\n    for (let cssattr in value) {\r\n      styleStringList.push(`${cssattr}:${value[cssattr]};`)\r\n    }\r\n    ele.setAttribute(prop, styleStringList.join(''))\r\n  } else if (typeof value === 'function') { // 如果是function则绑定事件\r\n    let pattern = /^on([a-zA-Z]+)/\r\n    if (pattern.test(prop)) {\r\n      let mat = prop.match(pattern)\r\n      mat && ele.addEventListener(mat[1].toLocaleLowerCase(), value.bind(ele))\r\n    } else {\r\n      ele.addEventListener(prop, value.bind(ele))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 处理子节点的添加\r\n*/\r\n\r\n// export function setElementChild(ele: HTMLElement, childNode: ChildVNode | Array<ChildVNode>) {\r\n//   if (Array.isArray(childNode)) {\r\n//     childNode.forEach(subChildNode => {\r\n//       ele.appendChild(subChildNode.getRNode())\r\n//       if (subChildNode instanceof FragmentVNode) {\r\n//         ele.appendChild(subChildNode.getPivot().getRNode())\r\n//       }\r\n//       if (childNode instanceof ComponentVNode) {\r\n//         let ef = childNode.getComponent().getEFVNode()\r\n//         if (ef instanceof FragmentVNode) {\r\n//           ele.appendChild(ef.getPivot().getRNode())\r\n//         }\r\n//       }\r\n//     })\r\n//   } else {\r\n//     ele.appendChild(childNode.getRNode())\r\n//     if (childNode instanceof FragmentVNode) {\r\n//       ele.appendChild(childNode.getPivot().getRNode())\r\n//     }\r\n\r\n//     if (childNode instanceof ComponentVNode) {\r\n//       let ef = childNode.getComponent().getEFVNode()\r\n//       if (ef instanceof FragmentVNode) {\r\n//         ele.appendChild(ef.getPivot().getRNode())\r\n//       }\r\n//     }\r\n//   }\r\n// }\r\n\r\n// 初始化虚拟节点，并生成真实节点\r\n// export function initVNode(baseNode: BaseChildVNode, parent?: ElementVNode | FragmentVNode): ChildVNode {\r\n//   // 如果是普通的文本字符串\r\n//   if (typeof baseNode === \"string\") {\r\n//     let textNode = new TextVNode(baseNode)\r\n//     textNode.setParentVNode(parent)\r\n//     textNode.createTextNode()\r\n//     return textNode\r\n//   } else if (baseNode instanceof ComponentVNode) { // render可能返回ElementVNode 也可能返回 ComponentVNode\r\n//     let ef = baseNode.createComponent().createEFVNode()\r\n//     if (ef instanceof ElementVNode) ef.createEle()\r\n//     else ef.createFragment()\r\n//     ef.setParentVNode(parent)\r\n//     baseNode.setParentVNode(parent)\r\n//     return baseNode\r\n//   } else if (baseNode instanceof ElementVNode) {  // 如果是元素节点\r\n//     baseNode.createEle()\r\n//     baseNode.setParentVNode(parent)\r\n//     return baseNode\r\n//   } else if (baseNode instanceof FragmentVNode) {\r\n//     baseNode.createFragment()\r\n//     baseNode.setParentVNode(parent)\r\n//     return baseNode\r\n//   } else {\r\n//     // 特殊处理 为null则不渲染返回空节点\r\n//     if (baseNode === null) baseNode = ''\r\n//     let textNode = new TextVNode(String(baseNode))\r\n//     textNode.setParentVNode(parent)\r\n//     textNode.createTextNode()\r\n//     return textNode\r\n//   }\r\n// }\r\n\r\n// export function initVNodeWithList(baseNode: BaseChildVNode | Array<BaseChildVNode>, parent?: ElementVNode | FragmentVNode): ChildVNode | Array<ChildVNode> {\r\n//   if (Array.isArray(baseNode)) {\r\n//     return baseNode.map(item => initVNode(item, parent))\r\n//   } else {\r\n//     return initVNode(baseNode, parent)\r\n//   }\r\n// }\r\n\r\n/**\r\n * 替换并返回现在的节点\r\n*/\r\n// export function replaceElementChild(ele: HTMLElement, newNode: ChildVNode, oldNode: ChildVNode): ChildVNode {\r\n//   if (newNode instanceof TextVNode && oldNode instanceof TextVNode) {\r\n//     oldNode.getRNode().nodeValue = newNode.getRNode().nodeValue\r\n//     return oldNode\r\n//   }\r\n\r\n//   let newEXNode: ElementVNode | FragmentVNode | TextVNode\r\n//   let oldEXNode: ElementVNode | FragmentVNode | TextVNode\r\n\r\n//   if (newNode instanceof ComponentVNode) newEXNode = newNode.getComponent().getEFVNode()\r\n//   else newEXNode = newNode\r\n//   if (oldNode instanceof ComponentVNode) oldEXNode = oldNode.getComponent().getEFVNode()\r\n//   else oldEXNode = oldNode\r\n\r\n//   if (oldEXNode instanceof FragmentVNode) {\r\n//     return replaceToFragmentVNode(ele, newEXNode, oldEXNode)\r\n//   }\r\n\r\n//   if (newEXNode instanceof FragmentVNode) {\r\n//     return replacedByFragmentVNode(ele, newEXNode, oldEXNode)\r\n//   }\r\n\r\n//   ele.replaceChild(newNode.getRNode(), oldNode.getRNode())\r\n//   return newNode\r\n// }\r\n\r\n// 替换为FragmentVNode时\r\n// function replaceToFragmentVNode(ele: HTMLElement, newNode: ChildVNode, oldNode: FragmentVNode): ChildVNode {\r\n//   let pivot = oldNode.getPivot()\r\n//   removeFragmentNode(oldNode)\r\n//   ele.insertBefore(newNode.getRNode(), pivot.getRNode())\r\n//   if (newNode instanceof FragmentVNode) {\r\n//     if (newNode === oldNode) {\r\n//       // 待续\r\n//     } else {\r\n//       pivot.getRNode().replaceWith(newNode.getPivot().getRNode())\r\n//     }\r\n//   } else {\r\n//     pivot.getRNode().remove()\r\n//   }\r\n//   return newNode\r\n// }\r\n// 被替换为FragmentVNode时\r\n// function replacedByFragmentVNode(ele: HTMLElement, newNode: FragmentVNode, oldNode: ChildVNode): FragmentVNode {\r\n//   let pivot = newNode.getPivot()\r\n//   oldNode.getRNode().replaceWith(pivot.getRNode())\r\n//   ele.insertBefore(newNode.getRNode(), pivot.getRNode())\r\n//   return newNode\r\n// }\r\n\r\n// 移除Fragment节点\r\n// function removeFragmentNode(node: FragmentVNode) {\r\n//   node.VNodeChildren.forEach(child => {\r\n//     if (child instanceof FragmentVNode) {\r\n//       removeFragmentNode(child)\r\n//     } else if (Array.isArray(child)) {\r\n//       removeFragmentEle(child)\r\n//     } else {\r\n//       child.getRNode().remove()\r\n//     }\r\n//   })\r\n// }\r\n\r\n\r\n// export function addFragmentEle(ele: HTMLElement, childNodes: ChildVNode[], pivot?: TextVNode) {\r\n//   let fragment = document.createDocumentFragment()\r\n//   childNodes.forEach(child => fragment.appendChild(child.getRNode()))\r\n//   if (pivot) ele.insertBefore(fragment, pivot.getRNode())\r\n//   else ele.appendChild(fragment)\r\n// }\r\n\r\n// export function removeFragmentEle(childNodes: ChildVNode[]) {\r\n//   childNodes.forEach(child => child.getRNode().remove())\r\n// }\r\n\r\n\r\n","import { Component, FunComponent } from \"../component\"\r\nimport { getDepProps } from \"../application\"\r\nimport { DataProxy } from \"../proxy\"\r\nimport { PropValue, Watcher } from \"../value\"\r\nimport { VNode } from \"./baseNode\"\r\nimport { SubComponent } from \"./type\"\r\nimport { ElementVNode } from \"./element\"\r\nimport { ChildVNode, replaceNode, standardNode } from \"../children\"\r\n\r\n/**\r\n * 组件节点\r\n*/\r\ninterface SubComponentConstructor {\r\n  new(): SubComponent\r\n}\r\ntype FunComponentType = (props?: Record<any, any>, children?: any[]) => ElementVNode\r\ntype ComponentConstructor = SubComponentConstructor | FunComponentType\r\n\r\nexport class ComponentVNode extends VNode {\r\n  propValues?: Array<PropValue>\r\n  fn?: Function\r\n\r\n  type: number = VNode.COMPONENT\r\n  component?: SubComponent\r\n  Constructor: ComponentConstructor\r\n  props?: Record<any, any>\r\n  children?: any[]\r\n  constructor(Constructor: ComponentConstructor, props?: Record<any, any>, children?: any[]) {\r\n    super()\r\n    this.Constructor = Constructor\r\n    this.props = props || {}\r\n    if (Array.isArray(children)) {\r\n      this.children = children\r\n    } else {\r\n      if (children !== undefined && children !== null) {\r\n        this.children = [children]\r\n      } else {\r\n        this.children = []\r\n      }\r\n    }\r\n\r\n    // 在初始化内部一定不要调用init\r\n  }\r\n\r\n  createComponent(): SubComponent {\r\n    if (this.component) return this.component;\r\n    // 处理自定义组件的属性\r\n    let props: Record<any, any> = new DataProxy({}).getData()\r\n    for (let prop in this.props) {\r\n      // 如果属性不为函数则不需要设置响应式\r\n      if (typeof this.props[prop] !== 'function') {\r\n        props[prop] = this.props[prop]\r\n        continue\r\n      }\r\n\r\n      let [depProps, result] = getDepProps(this.props[prop])\r\n\r\n      if (typeof result === 'function') {\r\n        props[prop] = result\r\n      } else {\r\n        props[prop] = result\r\n        let fn = () => props[prop] = this.props![prop]()\r\n        depProps.forEach(item => {\r\n          item.setDep(new Watcher(fn))\r\n        })\r\n      }\r\n    }\r\n\r\n    let children = new DataProxy<any[]>([]).getData()\r\n    if (this.children) {\r\n      for (let i = 0; i < this.children.length; i++) {\r\n        if (typeof this.children[i] !== 'function') {\r\n          children[i] = this.children[i]\r\n          continue\r\n        }\r\n\r\n        let [depProps, result] = getDepProps(this.children[i])\r\n\r\n        if (typeof result === 'function') {\r\n          children[i] = result\r\n        } else {\r\n          children[i] = result\r\n          let fn = () => children[i] = this.children![i]()\r\n\r\n          depProps.forEach(item => {\r\n            item.setDep(new Watcher(fn))\r\n          })\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    let Constructor = this.Constructor\r\n    if (Constructor.prototype && Constructor.prototype.classComponent) {\r\n      this.component = new (Constructor as SubComponentConstructor)()\r\n    } else {\r\n      let funComponent = new FunComponent()\r\n      funComponent.setRenderFun(Constructor as FunComponentType)\r\n      this.component = funComponent\r\n    }\r\n\r\n    this.component.setProps(props)\r\n    this.component.setChildren(children)\r\n    return this.component\r\n  }\r\n\r\n  getComponent(): SubComponent {\r\n    return this.component!\r\n  }\r\n\r\n\r\n  getRNode(): HTMLElement {\r\n    // if (this.component instanceof Component) {\r\n    //   return this.component.getEFVNode().getRNode()\r\n    // } else if (this.component instanceof ElementVNode) {\r\n    //   return this.component.getRNode()\r\n    // } else {\r\n    //   throw new Error('组件初始化')\r\n    // }\r\n    return this.component!.getEFVNode().getRNode()\r\n  }\r\n\r\n  // 创建并初始化真实节点\r\n  createRNode(): void {\r\n    if (this.component) return // 如果已经初始化过则不要再初始化\r\n    let Constructor = this.Constructor\r\n    if (Constructor.prototype && Constructor.prototype.classComponent) {\r\n      this.component = new (Constructor as SubComponentConstructor)()\r\n    } else {\r\n      let funComponent = new FunComponent()\r\n      funComponent.setRenderFun(Constructor as FunComponentType)\r\n      this.component = funComponent\r\n    }\r\n\r\n    this.component.setProps({})\r\n    this.component.setChildren([])\r\n\r\n    this.component.createEFVNode()\r\n  }\r\n\r\n  setDeps(propValues: Array<PropValue>, fn: Function): void {\r\n    this.propValues = propValues\r\n    this.fn = fn\r\n  }\r\n\r\n  // 绑定节点的依赖\r\n  bindDeps(): void {\r\n    if (this.propValues && this.fn) {\r\n      let fn = () => replaceNode(standardNode(this.fn!()), this)\r\n      let watcher = new Watcher(fn)\r\n      this.propValues.forEach(propValue => propValue.setDep(watcher))\r\n    }\r\n  }\r\n\r\n  mount() {\r\n    this.parentVNode?.getRNode().appendChild(this.getRNode())\r\n  }\r\n\r\n  replaceWith(node: ChildVNode) {\r\n    node.createRNode()\r\n    this.parentVNode?.getRNode().replaceChild(node.getRNode(), this.getRNode())\r\n  }\r\n}\r\n\r\n\r\n","import { BaseChildVNode, ChildVNode, ParentVNode, replaceNode, standardNode } from \"../children\"\r\nimport { PropValue, Watcher } from \"../value\"\r\nimport { VNode } from \"./baseNode\"\r\nimport { TextVNode } from \"./text\"\r\n\r\n\r\nexport class ArrayVNode extends VNode {\r\n  readonly type: number = 8\r\n  propValues?: PropValue[]\r\n  fn?: Function\r\n\r\n  parentVNode?: ParentVNode\r\n  props: Record<any, any>\r\n  bnodeList: Array<BaseChildVNode>\r\n  nodeList: Array<ChildVNode>\r\n\r\n  fragment?: HTMLElement\r\n  pivot: TextVNode // 锚点\r\n\r\n\r\n  constructor(props: Record<any, any>, bnodeList: BaseChildVNode[]) {\r\n    super()\r\n    this.props = props\r\n    this.bnodeList = bnodeList\r\n    this.nodeList = []\r\n    this.pivot = new TextVNode('')\r\n    this.pivot.createRNode()\r\n  }\r\n\r\n  setParentVNode(parent?: ParentVNode) {\r\n    this.parentVNode = parent\r\n  }\r\n\r\n  getRNode(): HTMLElement {\r\n    return this.fragment!\r\n  }\r\n\r\n  // 创建并初始化真实节点\r\n  createRNode(): void {\r\n    this.fragment = document.createDocumentFragment() as unknown as HTMLElement\r\n    this.bnodeList.forEach(child => {\r\n      let schild = standardNode(child)\r\n      schild.createRNode()\r\n      this.nodeList.push(schild)\r\n      this.fragment!.appendChild(schild.getRNode())\r\n    })\r\n  }\r\n\r\n  setDeps(propValues: Array<PropValue>, fn: Function): void {\r\n    this.propValues = propValues\r\n    this.fn = fn\r\n  }\r\n\r\n  // 绑定节点的依赖\r\n  bindDeps(): void {\r\n    if (this.propValues && this.fn) {\r\n      let fn = () => replaceNode(standardNode(this.fn!()), this)\r\n      let watcher = new Watcher(fn)\r\n      this.propValues.forEach(propValue => propValue.setDep(watcher))\r\n    }\r\n  }\r\n\r\n  mount() {\r\n    this.parentVNode?.getRNode().appendChild(this.getRNode())\r\n    this.parentVNode?.getRNode().appendChild(this.pivot.getRNode())\r\n  }\r\n\r\n  replaceWith(node: ChildVNode) {\r\n    node.createRNode()\r\n    if (node instanceof ArrayVNode) {\r\n      this.nodeList.forEach(child => child.getRNode().remove())\r\n      this.parentVNode?.getRNode().insertBefore(node.getRNode(), this.pivot.getRNode())\r\n      node.pivot = this.pivot\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { ComponentVNode, ElementVNode } from \"./vnode\";\r\nimport { SubComponent } from \"./vnode/type\";\r\nimport { DataProxy } from './proxy'\r\nimport { createNode, SubConstructor } from \"./utils\";\r\nimport { FragmentVNode } from \"./vnode/fragment\";\r\n\r\n/**\r\n * 根组件\r\n*/\r\n\r\ninterface Config {\r\n  data?: {\r\n    [key: string | symbol]: any\r\n  },\r\n}\r\n\r\nexport abstract class Component {\r\n\r\n  // 组件配置\r\n  private config: Config\r\n  // 组件响应式数据\r\n  public data: Record<any, any>\r\n  // 组件属性\r\n  props?: Record<any, any>\r\n  // 组件子元素\r\n  children?: any[]\r\n  // 组件挂载的根虚拟节点\r\n  efVNode?: ElementVNode | FragmentVNode\r\n  // 类组件标识符\r\n  classComponent!: boolean;\r\n\r\n  constructor(config: Config = {}) {\r\n    this.config = config\r\n    // 设置响应式数据对象\r\n    this.data = new DataProxy(this.config.data || {}).getData()\r\n  }\r\n\r\n  setProps(props: {}) {\r\n    this.props = props\r\n  }\r\n\r\n  setChildren(children: any[]) {\r\n    this.children = children\r\n  }\r\n\r\n  abstract render(h: (nodeTag: string | SubConstructor | symbol, props?: Record<any, any>, children?: any[]) => ElementVNode | ComponentVNode | FragmentVNode): ElementVNode | ComponentVNode | FragmentVNode\r\n\r\n  createEFVNode(): ElementVNode | FragmentVNode {\r\n    if (this.efVNode) return this.efVNode\r\n    let renderOut = this.render(createNode)\r\n    if (renderOut instanceof ComponentVNode) {\r\n      // renderOut = renderOut.createComponent().createEFVNode()\r\n      renderOut.createRNode()\r\n      let com = renderOut.getComponent()\r\n      renderOut = com.getEFVNode()\r\n    }\r\n    return this.efVNode = renderOut\r\n  }\r\n\r\n  getEFVNode(): ElementVNode | FragmentVNode {\r\n    return this.efVNode!\r\n  }\r\n}\r\n\r\nComponent.prototype.classComponent = true\r\n\r\n/**\r\n * 解决函数式组件的类\r\n*/\r\nexport class FunComponent extends Component implements SubComponent {\r\n  renderFun?: (props?: Record<any, any>, children?: any[]) => ElementVNode\r\n  setRenderFun(fun: (props?: Record<any, any>, children?: any[]) => ElementVNode) {\r\n    this.renderFun = fun\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n  }\r\n\r\n  render(): ElementVNode {\r\n    return this.renderFun!.call(this, this.props, this.children)\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Component } from './src/component'\r\nimport { defineState, mount, createNode } from './src/utils'\r\nimport { Vact } from './src/application'\r\n\r\nVact.Component = Component\r\n\r\nexport { mount, Component, defineState, createNode }\r\nexport const h = createNode\r\nexport const Fragment = Vact.Fragment\r\nexport default Vact\r\n\r\n"],"names":[],"mappings":"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"}